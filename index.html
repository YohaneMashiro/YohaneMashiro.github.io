<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>sTorYs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="blog of Shirohao">
<meta property="og:type" content="website">
<meta property="og:title" content="sTorYs">
<meta property="og:url" content="https://yohanemashiro.github.io/index.html">
<meta property="og:site_name" content="sTorYs">
<meta property="og:description" content="blog of Shirohao">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Shirohao">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="sTorYs" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">sTorYs</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">collect the world</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://yohanemashiro.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-常用API（二）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/11/%E5%B8%B8%E7%94%A8API%EF%BC%88%E4%BA%8C%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2024-03-10T16:00:00.000Z" itemprop="datePublished">2024-03-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/11/%E5%B8%B8%E7%94%A8API%EF%BC%88%E4%BA%8C%EF%BC%89/">常用API（二）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="01-Math、System、Runtime"><a href="#01-Math、System、Runtime" class="headerlink" title="01 Math、System、Runtime"></a>01 Math、System、Runtime</h1><ul>
<li><p>Math</p>
<ul>
<li><p>代表数学，是一个工具类，里面提供的都是对数据进行操作的一些静态方法</p>
</li>
<li><p>常见方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">abs</span><span class="params">(<span class="type">int</span> a)</span></span><br><span class="line">获取参数绝对值</span><br><span class="line">-------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">ceil</span><span class="params">(<span class="type">double</span> a)</span></span><br><span class="line">向上取整</span><br><span class="line">-------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">floor</span><span class="params">(<span class="type">double</span> a)</span></span><br><span class="line">向下取整</span><br><span class="line">-------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">round</span><span class="params">(<span class="type">float</span> a)</span></span><br><span class="line">四舍五入</span><br><span class="line">-------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">max</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span><br><span class="line">获取两个<span class="type">int</span>值中的较大值</span><br><span class="line">-------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">pow</span><span class="params">(<span class="type">double</span> a,<span class="type">double</span> b)</span></span><br><span class="line">返回a的b次幂的值</span><br><span class="line">-------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">random</span><span class="params">()</span></span><br><span class="line">返回值为<span class="type">double</span>的随机值，范围[<span class="number">0.0</span>,<span class="number">1.0</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>System</p>
<ul>
<li><p>代表程序所在的系统，也是一个工具类</p>
</li>
<li><p>常见方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">exit</span><span class="params">(<span class="type">int</span> status)</span></span><br><span class="line">终止当前运行的java虚拟机</span><br><span class="line">-------------------------------------------    </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">currentTimeMilis</span><span class="params">()</span>    </span><br><span class="line">返回当前系统的时间毫秒值形式（从<span class="number">19700.1</span><span class="number">.1</span> <span class="number">0</span>:<span class="number">00</span>开始）</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Runtime</p>
<ul>
<li><p>代表程序所在的运行环境</p>
</li>
<li><p>Runtime是一个单例类</p>
</li>
<li><p>常见方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Runtime <span class="title function_">getRuntime</span><span class="params">()</span></span><br><span class="line">返回与当前Java应用程序关联的运行时对象</span><br><span class="line">-----------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exit</span><span class="params">(<span class="type">int</span> status)</span></span><br><span class="line">终止当前运行的虚拟机，非零状态表示异常终止</span><br><span class="line">-----------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">availableProcessors</span><span class="params">()</span></span><br><span class="line">返回虚拟机能够使用的处理器数</span><br><span class="line">-----------------------------------------    </span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">totalMemory</span><span class="params">()</span></span><br><span class="line">返回虚拟机中的内存总量    </span><br><span class="line">-----------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">freeMemory</span><span class="params">()</span></span><br><span class="line">返回虚拟机中的可用内存量</span><br><span class="line">-----------------------------------------    </span><br><span class="line"><span class="keyword">public</span> Process <span class="title function_">exec</span><span class="params">(String command)</span></span><br><span class="line">启动程序，返回该程序对象    </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="02-BigDecimal"><a href="#02-BigDecimal" class="headerlink" title="02 BigDecimal"></a>02 BigDecimal</h1><ul>
<li><p>BigDecimal</p>
<ul>
<li><p>用于解决浮点数失真问题</p>
</li>
<li><p>常见构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">BigDecimal</span><span class="params">(<span class="type">double</span> val)</span></span><br><span class="line">将<span class="type">double</span>转换为Bigdecimal，但是没有解决精度问题</span><br><span class="line">---------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">BigDecimal</span><span class="params">(String val)</span>    </span><br><span class="line">将String转换成Bigdecimal    </span><br></pre></td></tr></table></figure>
</li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> BigDecimal <span class="title function_">valueOf</span><span class="params">(<span class="type">double</span> val)</span></span><br><span class="line">将一个<span class="type">double</span>类型的数据转换成BigDecimal</span><br><span class="line">-----------------------------------------------------    </span><br><span class="line"><span class="keyword">public</span> BigDecimal <span class="title function_">add</span><span class="params">(BigDecimal b)</span></span><br><span class="line">加法</span><br><span class="line">-----------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> BigDecimal <span class="title function_">substract</span><span class="params">(BigDecimal b)</span></span><br><span class="line">减法</span><br><span class="line">-----------------------------------------------------    </span><br><span class="line"><span class="keyword">public</span> BigDecimal <span class="title function_">multipy</span><span class="params">(BigDecimal b)</span></span><br><span class="line">乘法</span><br><span class="line">-----------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> BigDecimal <span class="title function_">divide</span><span class="params">(BigDecimal b)</span></span><br><span class="line">除法</span><br><span class="line">-----------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> BigDecimal <span class="title function_">divide</span><span class="params">(BigDecimal b,<span class="type">int</span> x)</span></span><br><span class="line">保留x位小数的除法</span><br><span class="line">-----------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">doubleValue</span><span class="params">()</span></span><br><span class="line">将BigDecimal转换成<span class="type">double</span>    </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="03-传统时间：Date日期类、SimpleDateFormat"><a href="#03-传统时间：Date日期类、SimpleDateFormat" class="headerlink" title="03 传统时间：Date日期类、SimpleDateFormat"></a>03 传统时间：Date日期类、SimpleDateFormat</h1><ul>
<li><p>Date</p>
<ul>
<li><p>代表日期和时间</p>
</li>
<li><p>构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Date</span><span class="params">()</span></span><br><span class="line">创建一个Date对象，表示系统时间</span><br><span class="line">----------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Date</span><span class="params">(<span class="type">long</span> time)</span></span><br><span class="line">把时间毫秒值转换成Date日期对象</span><br></pre></td></tr></table></figure>
</li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getTime</span><span class="params">()</span></span><br><span class="line">返回<span class="number">1970.1</span><span class="number">.1</span> <span class="number">0</span>:<span class="number">00</span>到现在的毫秒数</span><br><span class="line">--------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTime</span><span class="params">(<span class="type">long</span> time)</span></span><br><span class="line">设置日期对象的时间位当前时间毫秒值对应的时间</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>SimpleDateFormat</p>
<ul>
<li><p>代表简单日期格式化，可以用来把日期对象、时间毫秒值格式化成我们想要的形式</p>
</li>
<li><p>构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">SimpleDateFormat</span><span class="params">(String pattern)</span></span><br><span class="line">创建简单格式化对象，并封装时间的格式</span><br></pre></td></tr></table></figure>
</li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title function_">format</span><span class="params">(Date date)</span></span><br><span class="line">将日期格式化成日期/时间字符串</span><br><span class="line">------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title function_">format</span><span class="params">(Object time)</span></span><br><span class="line">将时间毫秒值格式化成日期/时间字符串</span><br><span class="line">------------------------------------------</span><br><span class="line"><span class="keyword">public</span> Date <span class="title function_">parse</span><span class="params">(String source)</span></span><br><span class="line">把字符串时间解析成日期对象，必须格式一致</span><br></pre></td></tr></table></figure>
</li>
<li><p>常见符号</p>
<ul>
<li>y-年</li>
<li>M月</li>
<li>d-日</li>
<li>H-时</li>
<li>m-分</li>
<li>s-秒</li>
<li>EEE-星期</li>
<li>a-上午&#x2F;下午</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="04-传统时间：秒杀案例、Calendar"><a href="#04-传统时间：秒杀案例、Calendar" class="headerlink" title="04 传统时间：秒杀案例、Calendar"></a>04 传统时间：秒杀案例、Calendar</h1><ul>
<li><p>秒杀活动</p>
</li>
<li><p>Calendar</p>
<ul>
<li><p>代表的时系统此刻时间对应的日历，可以单独获取、修改年月日 时分秒</p>
</li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Calendar <span class="title function_">getInstance</span><span class="params">()</span></span><br><span class="line">获取当前日历对象</span><br><span class="line">-------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> field)</span></span><br><span class="line">获取日历中的某个信息</span><br><span class="line">-------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> Date <span class="title function_">getTime</span><span class="params">()</span></span><br><span class="line">获取日期对象</span><br><span class="line">-------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getTimeInMillis</span><span class="params">()</span></span><br><span class="line">获取时间毫秒值</span><br><span class="line">-------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(<span class="type">int</span> field,<span class="type">int</span> value)</span></span><br><span class="line">修改日历的某个信息</span><br><span class="line">-------------------------------------------    </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> field,<span class="type">int</span> amount)</span></span><br><span class="line">位某个信息增加/减少指定的值</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="05-JDK8开始新增的日期、时间"><a href="#05-JDK8开始新增的日期、时间" class="headerlink" title="05 JDK8开始新增的日期、时间"></a>05 JDK8开始新增的日期、时间</h1><ul>
<li>传统时间类的问题<ul>
<li>设计不合理，使用不方便</li>
<li>都是可变对象，修改后会丢失最开始的时间信息</li>
<li>线程不安全</li>
<li>不能精确到纳秒，只能精确到毫秒</li>
</ul>
</li>
<li>代替Calendar<ul>
<li>LocalDate：年月日</li>
<li>LocalTime：时分秒</li>
<li>LocalDateTime：年月日时分秒</li>
<li>ZoneId：时区</li>
<li>ZoneDateTime：带时区的时间</li>
</ul>
</li>
<li>代替Date<ul>
<li>Instant：时间戳</li>
</ul>
</li>
<li>代替SimpleDateFormat<ul>
<li>DateTimeFormatter：用于时间的格式化和解析</li>
</ul>
</li>
<li>其他补充<ul>
<li>Period：时间间隔（年月日）</li>
<li>Duration：时间间隔（时分秒纳秒）</li>
</ul>
</li>
</ul>
<h1 id="06-LocalDate、LocalTime、LocalDateTime、ZoneId、ZoneDateTime、Instant"><a href="#06-LocalDate、LocalTime、LocalDateTime、ZoneId、ZoneDateTime、Instant" class="headerlink" title="06 LocalDate、LocalTime、LocalDateTime、ZoneId、ZoneDateTime、Instant"></a>06 LocalDate、LocalTime、LocalDateTime、ZoneId、ZoneDateTime、Instant</h1><ul>
<li><p>通用的获取对象的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> XXX <span class="title function_">now</span><span class="params">()</span></span><br><span class="line">获取系统当前时间对应的对象</span><br><span class="line">----------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> XXX <span class="title function_">of</span><span class="params">(...)</span></span><br><span class="line">获取指定时间的对象</span><br></pre></td></tr></table></figure>
</li>
<li><p>LocalDate</p>
<ul>
<li><p>处理年月日、星期</p>
</li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getYear</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMonthValue</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDayOfMonth</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDayofYear</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> DayOfWeek <span class="title function_">getDayOfWeek</span><span class="params">()</span></span><br><span class="line">-----------------------------------------------</span><br><span class="line"><span class="keyword">public</span> LocalDate <span class="title function_">withXXX</span><span class="params">()</span><span class="comment">//直接修改</span></span><br><span class="line"><span class="keyword">public</span> LocalDate <span class="title function_">plusXXX</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> LocalDate <span class="title function_">minusXXX</span><span class="params">()</span></span><br><span class="line">-----------------------------------------------    </span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBefore</span><span class="params">(LocalDate x)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAfter</span><span class="params">(LocalDate x)</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>LocalTime</p>
<ul>
<li><p>处理时分秒、纳秒</p>
</li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getHour</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMinute</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSecond</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getNano</span><span class="params">()</span></span><br><span class="line">---------------------------------------------</span><br><span class="line"><span class="keyword">public</span> LocalTime <span class="title function_">withXXX</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> LocalTime <span class="title function_">plusXXX</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> LocalTime <span class="title function_">minusXXX</span><span class="params">()</span></span><br><span class="line">---------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBefore</span><span class="params">(LocalTime x)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAfter</span><span class="params">(LocalTime x)</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>LocalDateTime</p>
<ul>
<li>处理年月日、时分秒、星期、纳秒</li>
<li>常用方法</li>
</ul>
</li>
<li><p>ZoneId</p>
<ul>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ZoneId <span class="title function_">systemDefault</span><span class="params">()</span></span><br><span class="line">获取系统默认时区</span><br><span class="line">---------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Set&lt;String&gt; <span class="title function_">getAvailableZoneId</span><span class="params">()</span></span><br><span class="line">获取Java支持的全部时区Id</span><br><span class="line">---------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ZoneId <span class="title function_">of</span><span class="params">(String zoneId)</span></span><br><span class="line">把某个时区id封装成ZoneId对象</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>ZoneDateTime</p>
<ul>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ZoneDateTime <span class="title function_">now</span><span class="params">(ZoneId zone)</span></span><br><span class="line">获取某个时区的ZoneDateTime对象,如Clock.systemUTC()</span><br><span class="line">--------------------------------------------------</span><br><span class="line">其他的同名于LocalDateTime</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Instant</p>
<ul>
<li><p>通过获取Instant的对象可以拿到此刻的时间，为1970.1.1 0:00到此刻的秒数+纳秒数</p>
</li>
<li><p>可以记录代码执行时间、记录用户操作时间点</p>
</li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Instant <span class="title function_">now</span><span class="params">()</span><span class="comment">//获取当前时间</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">getEpochSecond</span><span class="params">()</span><span class="comment">//获取1970-</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getNano</span><span class="params">()</span></span><br><span class="line">----------------------------------------------</span><br><span class="line"><span class="keyword">public</span> Instant <span class="title function_">plusXXX</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> Instant <span class="title function_">minusXXX</span><span class="params">()</span></span><br><span class="line">----------------------------------------------    </span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBefore</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAfter</span><span class="params">()</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="07-DateTimeFormatter、Period、Duration"><a href="#07-DateTimeFormatter、Period、Duration" class="headerlink" title="07 DateTimeFormatter、Period、Duration"></a>07 DateTimeFormatter、Period、Duration</h1><ul>
<li><p>DateTimeFormatter</p>
<ul>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> DateTimeFormatter <span class="title function_">ofPattern</span><span class="params">(时间格式)</span></span><br><span class="line">获取格式化器对象</span><br><span class="line">-----------------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">format</span><span class="params">(时间对象)</span></span><br><span class="line">格式化时间</span><br><span class="line">-----------------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> LocalDateTime <span class="title function_">parse</span><span class="params">(text,formatter)</span></span><br><span class="line">解析时间</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Period</p>
<ul>
<li><p>可以用于计算两个LocalDate对象相差的年月日</p>
</li>
<li><p>构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Period <span class="title function_">between</span><span class="params">(LocalDate start,LocalDate end)</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getYears</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMonths</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDays</span><span class="params">()</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Duration</p>
<ul>
<li><p>可以用于计算两个时间对象相差的天数、小时数、分数、秒数、纳秒数</p>
</li>
<li><p>支持LocalTime、LocalDateTime、Instant</p>
</li>
<li><p>构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Duration <span class="title function_">between</span><span class="params">(start,end)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>常用方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">toDays</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">toMillis</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">toXXX</span><span class="params">()</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="08-Arrays类、自定义排序规则Comparable、自定义比较器Comparator"><a href="#08-Arrays类、自定义排序规则Comparable、自定义比较器Comparator" class="headerlink" title="08 Arrays类、自定义排序规则Comparable、自定义比较器Comparator"></a>08 Arrays类、自定义排序规则Comparable、自定义比较器Comparator</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2024/03/11/%E5%B8%B8%E7%94%A8API%EF%BC%88%E4%BA%8C%EF%BC%89/" data-id="cltmzly4q000je8szei5ddzrl" data-title="常用API（二）" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-常用API（一）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/11/%E5%B8%B8%E7%94%A8API%EF%BC%88%E4%B8%80%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2024-03-10T16:00:00.000Z" itemprop="datePublished">2024-03-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/11/%E5%B8%B8%E7%94%A8API%EF%BC%88%E4%B8%80%EF%BC%89/">常用API（一）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="01-Object类、toString类、equals类，对象克隆clone"><a href="#01-Object类、toString类、equals类，对象克隆clone" class="headerlink" title="01 Object类、toString类、equals类，对象克隆clone"></a>01 Object类、toString类、equals类，对象克隆clone</h1><ul>
<li><p>Object类是Java中所有类的祖宗类，因此Java中所有类的对象都可以直接使用Object类中提供的一些方法</p>
</li>
<li><p>常见方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">基本作用：返回对象的字符串形式</span><br><span class="line">意义：让子类重写，以便返回子类对象的内容</span><br><span class="line">---------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span></span><br><span class="line">基本作业：默认是比较两个对象的地址是否相等</span><br><span class="line">意义：让子类重写，以便用于比较对象的内容是否相同</span><br><span class="line">---------------------------------------------</span><br><span class="line"><span class="keyword">protected</span> Object <span class="title function_">clone</span><span class="params">()</span></span><br><span class="line">对象克隆</span><br><span class="line">    浅克隆，不复制引用指向</span><br><span class="line">    深克隆，复制引用指向，避免修改到原对象</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="02-Objects类、包装类"><a href="#02-Objects类、包装类" class="headerlink" title="02 Objects类、包装类"></a>02 Objects类、包装类</h1><ul>
<li><p>Objects类是一个工具类，提供了很多操作对象的静态方法</p>
<ul>
<li><p>常见方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object a,Object b)</span></span><br><span class="line">先做非空判断，再比较两个对象</span><br><span class="line">------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isNull</span><span class="params">(Object obj)</span></span><br><span class="line">判断对象是否为<span class="literal">null</span>，为<span class="literal">null</span>返回<span class="literal">true</span>，反之   </span><br><span class="line">------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">nonNull</span><span class="params">(Object obj)</span></span><br><span class="line">判断对象是否不为<span class="literal">null</span>，不为<span class="literal">null</span>则返回<span class="literal">true</span>，反之    </span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>包装类就是把基本类型的数据包装成对象</p>
<ul>
<li><p>自动装箱：基本数据类型可以自动转换为包装类型</p>
</li>
<li><p>自动拆箱：包装类型可以自动转换为基本数据类型</p>
</li>
<li><p>可以实现基本数据类型和字符串类型的转换</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">toString</span><span class="params">(<span class="type">double</span> d)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">----------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">parselnt</span><span class="params">(String s)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">valueOf</span><span class="params">(String s)</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="03-StringBuilder、StringBuffer、StringJoiner"><a href="#03-StringBuilder、StringBuffer、StringJoiner" class="headerlink" title="03 StringBuilder、StringBuffer、StringJoiner"></a>03 StringBuilder、StringBuffer、StringJoiner</h1><ul>
<li><p>StringBuilder代表可变字符串对象，相当于是一个容器，它里面装的字符串是可以改变的，就是用来操作字符串的</p>
<ul>
<li><p>代表可变字符串对象，相当于是一个容器，它里面装的字符串是可以改变的，就是用来操作字符串的</p>
</li>
<li><p>好处：StringBuilder比String更适合做字符串的修改操作，效率会更高，代码也会更简洁</p>
</li>
<li><p>构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">StringBuilder</span><span class="params">()</span></span><br><span class="line">创建一个空白的可变的字符串对象，不包含任何内容</span><br><span class="line">------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">StringBuilder</span><span class="params">(String str)</span></span><br><span class="line">创建一个指定字符串内容的可变字符串对象</span><br></pre></td></tr></table></figure>
</li>
<li><p>常见方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> StringBuilder <span class="title function_">append</span><span class="params">(任意类型)</span></span><br><span class="line">添加数据并返回StringBuilder对象本身</span><br><span class="line">--------------------------------------</span><br><span class="line"><span class="keyword">public</span> StringBuilder <span class="title function_">reverse</span><span class="params">()</span></span><br><span class="line">将对象的内容反转</span><br><span class="line">--------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">length</span><span class="params">()</span></span><br><span class="line">返回对象内容长度</span><br><span class="line">--------------------------------------</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">通过toString()就可以实现把StringBuilder转换为String</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>StringBuffer</p>
<ul>
<li>StringBuffer的用法与StringBuilder是一模一样的</li>
<li>但StringBuilder是线程不安全的，StringBuffer是线程安全的</li>
</ul>
</li>
<li><p>StringJoiner</p>
<ul>
<li><p>JDK8开始才有的，和StringBuilder一样，也是用来操作字符串的，也可以看成是一个容器，创建之后里面的内容是可变的</p>
</li>
<li><p>好处：不仅能提高字符串的操作效率，并且再有些场景下使用它操作字符串，代码会更简洁</p>
</li>
<li><p>构造器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">StringJoiner</span><span class="params">(间隔符号)</span></span><br><span class="line">创建一个StringJoiner对象，指定拼接时的间隔符号</span><br><span class="line">-------------------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">StirngJoiner</span><span class="params">(间隔符号，开始符号，结束符号)</span>    </span><br><span class="line">创建一个StringJoiner对象，指定拼接时的间隔符号、开始符号、结束符号</span><br></pre></td></tr></table></figure>


</li>
<li><p>常见方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> StringJoiner <span class="title function_">add</span><span class="params">(添加的内容)</span></span><br><span class="line">添加数据，并返回对象本身</span><br><span class="line">-----------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">length</span><span class="params">()</span></span><br><span class="line">返回长度（字符出现的个数）</span><br><span class="line">-----------------------------------------</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line">返回一个字符串（该字符串就是拼接之后的结果）</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2024/03/11/%E5%B8%B8%E7%94%A8API%EF%BC%88%E4%B8%80%EF%BC%89/" data-id="cltmzly4q000me8sz6zmgezem" data-title="常用API（一）" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-面向对象高级（三）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/03/11/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%EF%BC%88%E4%B8%89%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2024-03-10T16:00:00.000Z" itemprop="datePublished">2024-03-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/03/11/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%EF%BC%88%E4%B8%89%EF%BC%89/">面向对象高级（三）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="01内部类概述、成员内部类、静态内部类"><a href="#01内部类概述、成员内部类、静态内部类" class="headerlink" title="01内部类概述、成员内部类、静态内部类"></a>01内部类概述、成员内部类、静态内部类</h1><ul>
<li><p>成员内部类</p>
<ul>
<li>成员的内部类是类中的一个普通成员，类似普通成员变量、成员方法</li>
<li>创建对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">外部类名.内部类名 对象名=<span class="keyword">new</span> 外部类(...).new 内部类(...);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>成员内部类的实例方法中，可以直接访问外部类的实例成员，静态成员</p>
</li>
<li><p>可以拿到外部类对象</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">外部类名.<span class="built_in">this</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>静态内部类</p>
<ul>
<li>静态内部类是有static修饰的内部类</li>
<li>创建对象</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">外部类名.内部类名 对象名=<span class="keyword">new</span> 外部类.内部类(...);</span><br></pre></td></tr></table></figure>

<ul>
<li>可以访问外部类的静态成员，不能直接访问外部类的实例成员</li>
</ul>
</li>
<li><p>局部内部类</p>
<ul>
<li>局部内部类是定义在方法中、代码块中、构造器等执行体中。</li>
</ul>
</li>
</ul>
<h1 id="02-认识匿名内部类、匿名内部类的使用场景和应用场景"><a href="#02-认识匿名内部类、匿名内部类的使用场景和应用场景" class="headerlink" title="02 认识匿名内部类、匿名内部类的使用场景和应用场景"></a>02 认识匿名内部类、匿名内部类的使用场景和应用场景</h1><ul>
<li>书写格式</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> 类或接口(参数值...)&#123;</span><br><span class="line">    类体(一般是方法重写);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Animal</span>()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;；</span><br></pre></td></tr></table></figure>

<ul>
<li>匿名内部类本质是一个子类，并会立即创建出一个子类对象</li>
<li>匿名内部类可以更加方便地创造出一个子类对象，通常作为一个参数传输给方法</li>
</ul>
<h1 id="03-认识枚举，枚举的作用和应用场景"><a href="#03-认识枚举，枚举的作用和应用场景" class="headerlink" title="03 认识枚举，枚举的作用和应用场景"></a>03 认识枚举，枚举的作用和应用场景</h1><ul>
<li>枚举类的创建</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    X,Y,Z</span><br><span class="line">&#125;</span><br><span class="line">-----------------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">A</span> <span class="keyword">extends</span> <span class="title class_">java</span>.lang.Enum&lt;A&gt;&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> A X=<span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> A Y=<span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> A Z=<span class="keyword">new</span> <span class="title class_">A</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> A[] values();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> A <span class="title function_">valueOf</span><span class="params">(java.lang.String)</span>;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<ul>
<li>枚举类的特点<ul>
<li>枚举类的第一行只能罗列一些名称，这些名称都是常量，并且每一个常量记住的都是枚举类的一个对象</li>
<li>枚举类的构造器是私有的，因此枚举类对外不能创建对象</li>
<li>枚举都是最终类，不可以被继承</li>
<li>枚举类中，从第二行开始可以定义类的其他各种成员</li>
<li>编译器为枚举类新增了几个方法，并且枚举类都是继承：java.lang.Enum类的，从enum类也会继承到一些方法</li>
</ul>
</li>
<li>枚举的常见应用场景<ul>
<li>用来表示一组信息，然后作为参数进行传输</li>
<li>参数值不受约束</li>
<li>代码可读性好，参数值得到了约束，对使用者更友好</li>
</ul>
</li>
</ul>
<h1 id="04-认识泛型，泛型类和泛型接口"><a href="#04-认识泛型，泛型类和泛型接口" class="headerlink" title="04 认识泛型，泛型类和泛型接口"></a>04 认识泛型，泛型类和泛型接口</h1><ul>
<li><p>定义类、接口、方法时，同时声明了一个或者多个类型变量（如：<E>），称为泛型类、泛型接口、泛型方法，它们统称为泛型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayList</span>&lt;E&gt;&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>作用：泛型提供了在编译阶段约束所能操作的数据类型，并自动进行检查的能力。这样可以避免强制类型转换及其可能出现的异常</p>
</li>
<li><p>泛型的本质：把具体的数据类型作为参数传给类型变量（建议使用大写英文字母，如E T K V）</p>
</li>
<li><p>泛型类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">修饰符 class 类名&lt;类型变量，类型变量...&gt;&#123;</span><br><span class="line">	...   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>泛型接口：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">修饰符 interface 接口名&lt;类型变量，类型变量...&gt;&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="05-泛型方法、泛型的通配符和泛型的上下限、泛型注意事项"><a href="#05-泛型方法、泛型的通配符和泛型的上下限、泛型注意事项" class="headerlink" title="05 泛型方法、泛型的通配符和泛型的上下限、泛型注意事项"></a>05 泛型方法、泛型的通配符和泛型的上下限、泛型注意事项</h1><ul>
<li><p>泛型方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">修饰符&lt;类型变量，类型变量...s&gt;返回值类型 方法名(形参列表)&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line">-------------------------------------------------------</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(T t)</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>通配符：就是”?”，可以在”使用泛型”的时候代表一切类型；E T K V 时在定义泛型的时候使用</p>
</li>
<li><p>泛型的上下限：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">泛型上限</span><br><span class="line">?extend Car</span><br><span class="line">?能接收的必须是Car或者其子类</span><br><span class="line">---------------------------</span><br><span class="line">泛型下限</span><br><span class="line">?<span class="built_in">super</span> Car</span><br><span class="line">?能接收的必须是Car或者其父类    </span><br></pre></td></tr></table></figure>
</li>
<li><p>泛型的注意事项</p>
<ul>
<li>泛型擦除：泛型是公仔还在编译阶段的，一旦程序编译称为class文件就不存在了</li>
<li>泛型不支持基本数据类型，只能支持对象类型（引用数据类型Integer、Double）</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2024/03/11/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%EF%BC%88%E4%B8%89%EF%BC%89/" data-id="cltmzly4s000ve8szgfcj892z" data-title="面向对象高级（三）" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-预备队week10" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/17/%E9%A2%84%E5%A4%87%E9%98%9Fweek10/" class="article-date">
  <time class="dt-published" datetime="2023-12-16T16:00:00.000Z" itemprop="datePublished">2023-12-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/17/%E9%A2%84%E5%A4%87%E9%98%9Fweek10/">预备队训练week10</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="本周简述"><a href="#本周简述" class="headerlink" title="本周简述"></a>本周简述</h2><p>补题</p>
<h2 id="abc286-e"><a href="#abc286-e" class="headerlink" title="abc286_e"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc286/tasks/abc286_e">abc286_e</a></h2><h3 id="解："><a href="#解：" class="headerlink" title="解："></a>解：</h3><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p>注意到是两种交通方式且不会交叉，枚举点，分为前半段和后半段最短路之和</p>
<h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">576460752303423488</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,q,a[<span class="number">310</span>],d[<span class="number">310</span>][<span class="number">310</span>],val[<span class="number">310</span>][<span class="number">310</span>];</span><br><span class="line"><span class="type">bool</span> g[<span class="number">310</span>][<span class="number">310</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;++j)&#123;</span><br><span class="line">            <span class="type">char</span> x;cin&gt;&gt;x;</span><br><span class="line">            d[i][j]=INF,val[i][j]=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(x==<span class="string">&#x27;Y&#x27;</span>) d[i][j]=<span class="number">1</span>,val[i][j]=a[j];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) d[i][i]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;=n;++k)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;++j)</span><br><span class="line">                <span class="keyword">if</span>(d[i][k]+d[k][j]&lt;d[i][j])&#123;</span><br><span class="line">                    d[i][j]=d[i][k]+d[k][j],</span><br><span class="line">                    val[i][j]=val[i][k]+val[k][j];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(d[i][k]+d[k][j]==d[i][j]&amp;&amp;val[i][k]+val[k][j]&gt;val[i][j])</span><br><span class="line">                    val[i][j]=val[i][k]+val[k][j];</span><br><span class="line"></span><br><span class="line">    cin&gt;&gt;q;</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        <span class="type">int</span> u,v;</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;v;</span><br><span class="line">        <span class="keyword">if</span>(d[u][v]==INF) cout&lt;&lt;<span class="string">&quot;Impossible\n&quot;</span>;</span><br><span class="line">        <span class="keyword">else</span> cout&lt;&lt;d[u][v]&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;val[u][v]+a[u]&lt;&lt;<span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="反思："><a href="#反思：" class="headerlink" title="反思："></a>反思：</h3><h2 id="abc325-e"><a href="#abc325-e" class="headerlink" title="abc325_e"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc325/tasks/abc325_e">abc325_e</a></h2><h3 id="解：-1"><a href="#解：-1" class="headerlink" title="解："></a>解：</h3><h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><p>观察数据和询问，发现是全源最短路，考虑弗洛伊德并且在转移过程中加上附加条件</p>
<h4 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,A,B,C,ans=INF;</span><br><span class="line"><span class="type">int</span> g[<span class="number">1010</span>][<span class="number">1010</span>][<span class="number">2</span>],car[<span class="number">1010</span>],train[<span class="number">1010</span>];</span><br><span class="line"><span class="type">bool</span> vis[<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> to,val;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> node&amp;x)<span class="type">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> val&gt;x.val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">priority_queue&lt;node&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dij_car</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) q.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span> vis);</span><br><span class="line">    q.<span class="built_in">push</span>((node)&#123;<span class="number">1</span>,<span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        node t=q.<span class="built_in">top</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(vis[t.to]) <span class="keyword">continue</span>;</span><br><span class="line">        vis[t.to]=<span class="number">1</span>,car[t.to]=t.val;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;++j)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j])</span><br><span class="line">                q.<span class="built_in">push</span>((node)&#123;j,t.val+g[t.to][j][<span class="number">0</span>]&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dij_train</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>()) q.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span> vis);</span><br><span class="line">    q.<span class="built_in">push</span>((node)&#123;n,<span class="number">0</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        node t=q.<span class="built_in">top</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(vis[t.to]) <span class="keyword">continue</span>;</span><br><span class="line">        vis[t.to]=<span class="number">1</span>,train[t.to]=t.val;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;++j)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j])</span><br><span class="line">                q.<span class="built_in">push</span>((node)&#123;j,t.val+g[t.to][j][<span class="number">1</span>]&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;A&gt;&gt;B&gt;&gt;C;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;++j)&#123;</span><br><span class="line">            <span class="type">int</span> x;cin&gt;&gt;x;</span><br><span class="line">            g[i][j][<span class="number">0</span>]=x*A,</span><br><span class="line">            g[i][j][<span class="number">1</span>]=x*B+C;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">Dij_car</span>();</span><br><span class="line">    <span class="built_in">Dij_train</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) ans=<span class="built_in">min</span>(ans,car[i]+train[i]);</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思：-1"><a href="#反思：-1" class="headerlink" title="反思："></a>反思：</h3><h2 id="abc171-f"><a href="#abc171-f" class="headerlink" title="abc171_f"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc171/tasks/abc171_f">abc171_f</a></h2><h3 id="解：-2"><a href="#解：-2" class="headerlink" title="解："></a>解：</h3><h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><p>组合数学，大苦手，贴一篇<a target="_blank" rel="noopener" href="https://blog.csdn.net/cqbzlydd/article/details/118608222?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromBaidu~Rate-1-118608222-blog-114681258.235%5Ev39%5Epc_relevant_3m_sort_dl_base1&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromBaidu~Rate-1-118608222-blog-114681258.235%5Ev39%5Epc_relevant_3m_sort_dl_base1&utm_relevant_index=1">std</a></p>
<h4 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mx=<span class="number">2e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> n,m;</span><br><span class="line">ll res,fac[mx],inv[mx];</span><br><span class="line"><span class="comment">//相同的字符 x ，取序列中的最后一个 </span></span><br><span class="line"><span class="function">ll <span class="title">fpow</span><span class="params">(ll x,ll y)</span> </span>&#123;</span><br><span class="line">	ll mul=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(;y;y&gt;&gt;=<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span>(y&amp;<span class="number">1</span>) mul=mul*x%mod;</span><br><span class="line">		x=x*x%mod;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> mul; </span><br><span class="line">&#125; </span><br><span class="line"><span class="function">ll <span class="title">C</span><span class="params">(ll x,ll y)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> fac[x]*inv[x-y]%mod*inv[y]%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">A</span><span class="params">(ll x,ll y)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> fac[x]*inv[y]%mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">G</span><span class="params">(ll x,ll y)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">C</span>(x+y<span class="number">-1</span>,y<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span> s[mx];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//	freopen(&quot;data.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d%s&quot;</span>,&amp;m,s+<span class="number">1</span>),n=<span class="built_in">strlen</span>(s+<span class="number">1</span>);</span><br><span class="line">    fac[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2000000</span>;i++) fac[i]=fac[i<span class="number">-1</span>]*i%mod;</span><br><span class="line">	inv[<span class="number">2000000</span>]=<span class="built_in">fpow</span>(fac[<span class="number">2000000</span>],mod<span class="number">-2</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2000000</span>;i&gt;=<span class="number">1</span>;i--) &#123;</span><br><span class="line">		inv[i<span class="number">-1</span>]=inv[i]*i%mod;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m+<span class="number">1</span>;i++) &#123;</span><br><span class="line">		ll turn1=<span class="built_in">fpow</span>(<span class="number">26</span>,i<span class="number">-1</span>),turn2=<span class="built_in">C</span>(n+m-i,n<span class="number">-1</span>)*<span class="built_in">fpow</span>(<span class="number">25</span>,n+m-i-(n<span class="number">-1</span>))%mod;</span><br><span class="line">		res=(res+turn1*turn2%mod)%mod;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="反思：-2"><a href="#反思：-2" class="headerlink" title="反思："></a>反思：</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2023/12/17/%E9%A2%84%E5%A4%87%E9%98%9Fweek10/" data-id="cltmzly4t0013e8szc7fcdpe3" data-title="预备队训练week10" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A2%84%E5%A4%87%E9%98%9F/" rel="tag">预备队</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-预备队week9" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/11/%E9%A2%84%E5%A4%87%E9%98%9Fweek9/" class="article-date">
  <time class="dt-published" datetime="2023-12-10T16:00:00.000Z" itemprop="datePublished">2023-12-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/11/%E9%A2%84%E5%A4%87%E9%98%9Fweek9/">预备队训练week9</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="本周简述"><a href="#本周简述" class="headerlink" title="本周简述"></a>本周简述</h2><p>练习最短路</p>
<h2 id="P1359"><a href="#P1359" class="headerlink" title="P1359"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1359">P1359</a></h2><h3 id="解："><a href="#解：" class="headerlink" title="解："></a>解：</h3><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思："><a href="#反思：" class="headerlink" title="反思："></a>反思：</h3><h2 id="P1629"><a href="#P1629" class="headerlink" title="P1629"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1629">P1629</a></h2><h3 id="解：-1"><a href="#解：-1" class="headerlink" title="解："></a>解：</h3><h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><h4 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思：-1"><a href="#反思：-1" class="headerlink" title="反思："></a>反思：</h3><h2 id="P1119"><a href="#P1119" class="headerlink" title="P1119"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1119">P1119</a></h2><h3 id="解：-2"><a href="#解：-2" class="headerlink" title="解："></a>解：</h3><h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><h4 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思：-2"><a href="#反思：-2" class="headerlink" title="反思："></a>反思：</h3><h2 id="P1144"><a href="#P1144" class="headerlink" title="P1144"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1144">P1144</a></h2><h3 id="解：-3"><a href="#解：-3" class="headerlink" title="解："></a>解：</h3><h4 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h4><h4 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思：-3"><a href="#反思：-3" class="headerlink" title="反思："></a>反思：</h3><h2 id="P3371"><a href="#P3371" class="headerlink" title="P3371"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3371">P3371</a></h2><h3 id="解：-4"><a href="#解：-4" class="headerlink" title="解："></a>解：</h3><h4 id="思路-4"><a href="#思路-4" class="headerlink" title="思路"></a>思路</h4><h4 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思：-4"><a href="#反思：-4" class="headerlink" title="反思："></a>反思：</h3><h2 id="P4779"><a href="#P4779" class="headerlink" title="P4779"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4779">P4779</a></h2><h3 id="解：-5"><a href="#解：-5" class="headerlink" title="解："></a>解：</h3><h4 id="思路-5"><a href="#思路-5" class="headerlink" title="思路"></a>思路</h4><h4 id="code-5"><a href="#code-5" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思：-5"><a href="#反思：-5" class="headerlink" title="反思："></a>反思：</h3><h2 id="P3385"><a href="#P3385" class="headerlink" title="P3385"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3385">P3385</a></h2><h3 id="解：-6"><a href="#解：-6" class="headerlink" title="解："></a>解：</h3><h4 id="思路-6"><a href="#思路-6" class="headerlink" title="思路"></a>思路</h4><h4 id="code-6"><a href="#code-6" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思：-6"><a href="#反思：-6" class="headerlink" title="反思："></a>反思：</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2023/12/11/%E9%A2%84%E5%A4%87%E9%98%9Fweek9/" data-id="cltmzly4w001me8sz8ndiftov" data-title="预备队训练week9" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A2%84%E5%A4%87%E9%98%9F/" rel="tag">预备队</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-预备队week8" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/10/%E9%A2%84%E5%A4%87%E9%98%9Fweek8/" class="article-date">
  <time class="dt-published" datetime="2023-12-09T16:00:00.000Z" itemprop="datePublished">2023-12-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/10/%E9%A2%84%E5%A4%87%E9%98%9Fweek8/">预备队训练week8</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="本周简述"><a href="#本周简述" class="headerlink" title="本周简述"></a>本周简述</h2><p>补了双周赛的题</p>
<h2 id="Grid-Ice-Floor"><a href="#Grid-Ice-Floor" class="headerlink" title="Grid Ice Floor"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc311/tasks/abc311_d">Grid Ice Floor</a></h2><h3 id="解："><a href="#解：" class="headerlink" title="解："></a>解：</h3><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y,d;</span><br><span class="line">&#125;delta[<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span> n,m,sum;</span><br><span class="line"><span class="type">bool</span> g[<span class="number">210</span>][<span class="number">210</span>],ans[<span class="number">210</span>][<span class="number">210</span>],vis[<span class="number">210</span>][<span class="number">210</span>][<span class="number">5</span>];</span><br><span class="line">queue&lt;node&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">    q.<span class="built_in">push</span>((node)&#123;<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>&#125;),q.<span class="built_in">push</span>((node)&#123;<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>&#125;),</span><br><span class="line">    q.<span class="built_in">push</span>((node)&#123;<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>&#125;),q.<span class="built_in">push</span>((node)&#123;<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        node t=q.<span class="built_in">front</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(vis[t.x][t.y][t.d]) <span class="keyword">continue</span>;<span class="comment">//剪枝点：同一个点可以多次遍历，但是方向一定不同</span></span><br><span class="line">        vis[t.x][t.y][t.d]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(!ans[t.x][t.y]) ans[t.x][t.y]=<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> nx=t.x+delta[t.d].x,</span><br><span class="line">            ny=t.y+delta[t.d].y;</span><br><span class="line">        <span class="keyword">if</span>(!g[nx][ny])&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">4</span>;++i)</span><br><span class="line">                <span class="keyword">if</span>(i!=t.d)&#123;</span><br><span class="line">                    q.<span class="built_in">push</span>((node)&#123;t.x,t.y,i&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> q.<span class="built_in">push</span>((node)&#123;nx,ny,t.d&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    delta[<span class="number">1</span>]=(node)&#123;<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,delta[<span class="number">2</span>]=(node)&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line">    delta[<span class="number">3</span>]=(node)&#123;<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,delta[<span class="number">4</span>]=(node)&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;++j)&#123;</span><br><span class="line">            <span class="type">char</span> x;cin&gt;&gt;x;</span><br><span class="line">            <span class="keyword">if</span>(x==<span class="string">&#x27;.&#x27;</span>) g[i][j]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">bfs</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;++j)</span><br><span class="line">            sum+=ans[i][j];</span><br><span class="line">    cout&lt;&lt;sum&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="反思："><a href="#反思：" class="headerlink" title="反思："></a>反思：</h3><h2 id="Balls-of-Three-Colors-B-Balls-of-Three-Colors-atcoder-jp"><a href="#Balls-of-Three-Colors-B-Balls-of-Three-Colors-atcoder-jp" class="headerlink" title="[Balls of Three Colors](B - Balls of Three Colors (atcoder.jp))"></a>[Balls of Three Colors](<a target="_blank" rel="noopener" href="https://atcoder.jp/contests/arc128/tasks/arc128_b">B - Balls of Three Colors (atcoder.jp)</a>)</h2><h3 id="解：-1"><a href="#解：-1" class="headerlink" title="解："></a>解：</h3><h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><h4 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 最后悔的一题，思路完全正确</span></span><br><span class="line"><span class="comment"> * 错因是加了判断导致漏解</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1</span>&lt;&lt;<span class="number">31</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> T,ans,a[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        ans=INF;</span><br><span class="line">        cin&gt;&gt;a[<span class="number">1</span>]&gt;&gt;a[<span class="number">2</span>]&gt;&gt;a[<span class="number">3</span>];</span><br><span class="line">        <span class="built_in">sort</span>(a+<span class="number">1</span>,a+<span class="number">1</span>+<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">if</span>(a[<span class="number">1</span>]==a[<span class="number">2</span>]||a[<span class="number">2</span>]==a[<span class="number">3</span>])&#123;<span class="comment">//相等</span></span><br><span class="line">            ans=a[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!((a[<span class="number">2</span>]-a[<span class="number">1</span>])%<span class="number">3</span>))&#123;<span class="comment">//1，2两球可以相等。最终全为3，所以是a[2] --&gt;&gt; a[2]-k==a[1]+2k --&gt;&gt; 0，显然最优</span></span><br><span class="line">            <span class="type">int</span> k=(a[<span class="number">2</span>]-a[<span class="number">1</span>])/<span class="number">3</span>;</span><br><span class="line">            <span class="comment">//if(a[2]-k&gt;=0) ans=k+a[1]+2*k;是错解</span></span><br><span class="line">            ans=<span class="built_in">min</span>(ans,k+a[<span class="number">1</span>]+<span class="number">2</span>*k);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!((a[<span class="number">3</span>]-a[<span class="number">1</span>])%<span class="number">3</span>))&#123;<span class="comment">//1，3两球可以相等</span></span><br><span class="line">            <span class="type">int</span> k=(a[<span class="number">3</span>]-a[<span class="number">1</span>])/<span class="number">3</span>;</span><br><span class="line">            ans=<span class="built_in">min</span>(ans,k+a[<span class="number">1</span>]+<span class="number">2</span>*k);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!((a[<span class="number">3</span>]-a[<span class="number">2</span>])%<span class="number">3</span>))&#123;<span class="comment">//2，3两球可以相等</span></span><br><span class="line">            <span class="type">int</span> k=(a[<span class="number">3</span>]-a[<span class="number">2</span>])/<span class="number">3</span>;</span><br><span class="line">            ans=<span class="built_in">min</span>(ans,k+a[<span class="number">3</span>]-k);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(ans==INF)&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;-1\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="反思：-1"><a href="#反思：-1" class="headerlink" title="反思："></a>反思：</h3><h2 id="Max-Dot"><a href="#Max-Dot" class="headerlink" title="Max Dot"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/arc128/tasks/arc128_c">Max Dot</a></h2><h3 id="解：-2"><a href="#解：-2" class="headerlink" title="解："></a>解：</h3><h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><h4 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">5e3</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m,s,ansid;</span><br><span class="line"><span class="type">double</span> ans;</span><br><span class="line"><span class="type">double</span> a[SIZE],suf[SIZE],b[SIZE];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m&gt;&gt;s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=n;i&amp;&amp;s&gt;=<span class="number">0</span>;)&#123;</span><br><span class="line">        ansid=<span class="number">0</span>,suf[i+<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i;j;--j)&#123;</span><br><span class="line">            suf[j]=suf[j+<span class="number">1</span>]+a[j];</span><br><span class="line">            b[j]=<span class="number">1.0</span>*suf[j]/(i-j+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(b[j]&gt;b[ansid]) ansid=j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">double</span> tmp=<span class="built_in">min</span>((<span class="type">double</span>)s,(i-ansid+<span class="number">1</span>)*<span class="number">1.0</span>*m);</span><br><span class="line">        ans+=tmp*b[ansid],</span><br><span class="line">        s-=tmp,i=ansid<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;fixed&lt;&lt;<span class="built_in">setprecision</span>(<span class="number">10</span>)&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思：-2"><a href="#反思：-2" class="headerlink" title="反思："></a>反思：</h3><h2 id="Neq-Neq"><a href="#Neq-Neq" class="headerlink" title="Neq Neq"></a><a target="_blank" rel="noopener" href="https://atcoder.jp/contests/arc128/tasks/arc128_d">Neq Neq</a></h2><h3 id="解：-3"><a href="#解：-3" class="headerlink" title="解："></a>解：</h3><h4 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h4><h4 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">2e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MOD=<span class="number">998244353</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> num;<span class="comment">//当前区间不同的数的数量</span></span><br><span class="line"><span class="type">int</span> a[SIZE];</span><br><span class="line"><span class="type">int</span> dp[SIZE];<span class="comment">//以i结尾的方案数</span></span><br><span class="line"><span class="type">int</span> sum[SIZE];<span class="comment">//dp的前缀和</span></span><br><span class="line"><span class="type">int</span> cnt[SIZE];<span class="comment">//当前区间某一个数出现的次数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;a[i];</span><br><span class="line">    </span><br><span class="line">    dp[<span class="number">1</span>]=sum[<span class="number">1</span>]=cnt[a[<span class="number">1</span>]]=num=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>,j=<span class="number">1</span>,p=<span class="number">0</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]==a[i<span class="number">-1</span>]) p=i<span class="number">-1</span>;<span class="comment">//跳过一定无法消除的部分</span></span><br><span class="line"></span><br><span class="line">        dp[i]=dp[i<span class="number">-1</span>];<span class="comment">//i-1一定会贡献到i</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">2</span>&amp;&amp;a[i]==a[i<span class="number">-2</span>]&amp;&amp;a[i<span class="number">-1</span>]!=a[i]) dp[i]=(dp[i]+dp[i<span class="number">-2</span>])%MOD;<span class="comment">//满足一定条件,i-2贡献到i</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//i-x (x&gt;2)贡献到i的条件是 从i-x和i一定可以相邻,即中间的可以被消除</span></span><br><span class="line">        num+=(!cnt[a[i]]),++cnt[a[i]];</span><br><span class="line">        <span class="keyword">while</span>(num-(cnt[a[j]]==<span class="number">1</span>)&gt;<span class="number">2</span>) num-=(cnt[a[j]]==<span class="number">1</span>),--cnt[a[j]],++j;<span class="comment">//维护出最大j,这样小于等于j的都会贡献到i</span></span><br><span class="line">        <span class="keyword">if</span>(num&gt;<span class="number">2</span>) dp[i]=(dp[i]+sum[j]-sum[<span class="built_in">min</span>(j,p)]+MOD)%MOD;<span class="comment">//min中一般是p,但是可能出现无法消除的部分,即取j无法贡献</span></span><br><span class="line">        sum[i]=(sum[i<span class="number">-1</span>]+dp[i])%MOD;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;dp[n]&lt;&lt;endl;<span class="comment">//一定以n结尾</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="反思：-3"><a href="#反思：-3" class="headerlink" title="反思："></a>反思：</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2023/12/10/%E9%A2%84%E5%A4%87%E9%98%9Fweek8/" data-id="cltmzly4w001ke8szf55z3fjx" data-title="预备队训练week8" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A2%84%E5%A4%87%E9%98%9F/" rel="tag">预备队</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-预备队week7" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/26/%E9%A2%84%E5%A4%87%E9%98%9Fweek7/" class="article-date">
  <time class="dt-published" datetime="2023-11-25T16:00:00.000Z" itemprop="datePublished">2023-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/26/%E9%A2%84%E5%A4%87%E9%98%9Fweek7/">预备队训练week7</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="本周简述"><a href="#本周简述" class="headerlink" title="本周简述"></a>本周简述</h2><p>复习了dfs和bfs，写了一点cf的题看了一些杂项（<a target="_blank" rel="noopener" href="https://oi-wiki.org/graph/euler/">欧拉图</a>，<a target="_blank" rel="noopener" href="https://oi-wiki.org/graph/tree-centroid/">树知识</a>）</p>
<h2 id="CF1063B"><a href="#CF1063B" class="headerlink" title="CF1063B"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/CF1063B">CF1063B</a></h2><h3 id="解："><a href="#解：" class="headerlink" title="解："></a>解：</h3><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p>明显的bfs，但是要考虑答案如何产生</p>
<p>如果简单地用vis数组判断，容易发生优解后遍历但是因为vis&#x3D;&#x3D;1无法更新答案的情况</p>
<p>所以一个vis不足以否定劣解，发现优解和剩余移动次数是相关的</p>
<p>考虑一种一定劣解，即此前的剩余移动次数（左，右）均大于当前状态，舍去</p>
<p>事实上这样剪一下枝就可以跑过该题</p>
<h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y,cntx,cnty;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">op</span>&#123;</span><br><span class="line">    <span class="type">int</span> cx,cy;</span><br><span class="line">&#125;ops[<span class="number">5</span>],st[<span class="number">2010</span>][<span class="number">2010</span>];</span><br><span class="line"><span class="type">int</span> n,m,r,c,allx,ally,ans;</span><br><span class="line"><span class="type">bool</span> g[<span class="number">2010</span>][<span class="number">2010</span>],vis[<span class="number">2010</span>][<span class="number">2010</span>];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> cntx,<span class="type">int</span> cnty)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">1</span>||x&gt;n||y&lt;<span class="number">1</span>||y&gt;m||!g[x][y]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(cntx&gt;allx||cnty&gt;ally) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> cntx,<span class="type">int</span> cnty)</span></span>&#123;</span><br><span class="line">    queue&lt;node&gt; q;</span><br><span class="line">    q.<span class="built_in">push</span>((node)&#123;x,y,cntx,cnty&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        node t=q.<span class="built_in">front</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(vis[t.x][t.y]&amp;&amp;t.cntx&gt;=st[t.x][t.y].cx&amp;&amp;t.cnty&gt;=st[t.x][t.y].cy) <span class="keyword">continue</span>;</span><br><span class="line">        st[t.x][t.y].cx=<span class="built_in">min</span>(st[t.x][t.y].cx,t.cntx);</span><br><span class="line">        st[t.x][t.y].cy=<span class="built_in">min</span>(st[t.x][t.y].cy,t.cnty);</span><br><span class="line">        vis[t.x][t.y]=<span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">4</span>;++i)&#123;</span><br><span class="line">            <span class="type">int</span> xx=t.x+ops[i].cx,</span><br><span class="line">                yy=t.y+ops[i].cy;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">check</span>(xx,yy,t.cntx+(ops[i].cy==<span class="number">-1</span>),t.cnty+(ops[i].cy==<span class="number">1</span>)))&#123;</span><br><span class="line">                q.<span class="built_in">push</span>((node)&#123;xx,yy,t.cntx+(ops[i].cy==<span class="number">-1</span>),t.cnty+(ops[i].cy==<span class="number">1</span>)&#125;);</span><br><span class="line">                <span class="comment">// bfs(xx,yy,t.cntx+(ops[i].cy==-1),t.cnty+(ops[i].cy==1));</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    ops[<span class="number">1</span>]=(op)&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,</span><br><span class="line">    ops[<span class="number">2</span>]=(op)&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,</span><br><span class="line">    ops[<span class="number">3</span>]=(op)&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;,</span><br><span class="line">    ops[<span class="number">4</span>]=(op)&#123;<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line"> </span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m&gt;&gt;r&gt;&gt;c&gt;&gt;allx&gt;&gt;ally;</span><br><span class="line">    <span class="type">char</span> tmp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;++j)&#123;</span><br><span class="line">            st[i][j]=(op)&#123;INF,INF&#125;;</span><br><span class="line">            cin&gt;&gt;tmp;</span><br><span class="line">            <span class="keyword">if</span>(tmp==<span class="string">&#x27;.&#x27;</span>) g[i][j]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">bfs</span>(r,c,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;++j)</span><br><span class="line">            ans+=vis[i][j];</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思："><a href="#反思：" class="headerlink" title="反思："></a>反思：</h3><p>bfs需要剪枝，但是不一定就是vis单一判据</p>
<p>剪枝时从最容易排除的状态开始，逐渐深入（或者就和这题一样直接跑过了）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2023/11/26/%E9%A2%84%E5%A4%87%E9%98%9Fweek7/" data-id="cltmzly4v001ie8sz2cnve62c" data-title="预备队训练week7" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A2%84%E5%A4%87%E9%98%9F/" rel="tag">预备队</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-预备队week6" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/19/%E9%A2%84%E5%A4%87%E9%98%9Fweek6/" class="article-date">
  <time class="dt-published" datetime="2023-11-18T16:00:00.000Z" itemprop="datePublished">2023-11-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/19/%E9%A2%84%E5%A4%87%E9%98%9Fweek6/">预备队训练week6</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="本周简述"><a href="#本周简述" class="headerlink" title="本周简述"></a>本周简述</h2><p>补了周赛的题，做了一点提高组的内容（单调队列，线段树，综合），看了<a target="_blank" rel="noopener" href="https://www.cnblogs.com/fnlingnzb-learner/p/5833051.html">map</a>和<a target="_blank" rel="noopener" href="https://www.cnblogs.com/linuxAndMcu/p/10261014.html">set</a>用法</p>
<h2 id="小源爱写题"><a href="#小源爱写题" class="headerlink" title="小源爱写题"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1723615838372442112/exam/problems/1723616012012421121?type=7&page=0">小源爱写题</a></h2><h3 id="解："><a href="#解：" class="headerlink" title="解："></a>解：</h3><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p>动态规划，一开始想要设dp[i] [j] [k]表示第i天一共写了j道题，最后一天写了k道题，发现转移代价过高，于是写挂了</p>
<p>看了题解发现设dp[i] [j]表示一共写了i道题，最后一天写了j道题，不考虑中间天数，直接考虑最后一天的情况</p>
<p>事实上也可以表示出答案：dp[n] [j]-1，因为dp[n] [n]只需要写一天违背题意</p>
<p>转移：dp[i] [j] +&#x3D; dp[i-j] [k] (k&lt;j)</p>
<h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,ans,dp[<span class="number">510</span>][<span class="number">510</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)<span class="comment">//注意循环范围</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=i;++j)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">0</span>;k&lt;j;++k)</span><br><span class="line">                dp[i][j]+=dp[i-j][k];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) ans+=dp[n][i];</span><br><span class="line">    cout&lt;&lt;ans<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思："><a href="#反思：" class="headerlink" title="反思："></a>反思：</h3><p>转移成本高可能是状态设的不好，考虑用最小的状态描述好问题</p>
<p>可以在循环的时候就把限定条件写出，如j&lt;&#x3D;i,k&lt;j</p>
<p>最后取答案时注意吧不符合条件的减掉</p>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/1723615838372442112/exam/problems/1723616012008226817?type=7&page=0">数组</a></h2><h3 id="解：-1"><a href="#解：-1" class="headerlink" title="解："></a>解：</h3><h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><p>一眼构造题，但其实是性质题</p>
<p>观察到最大值一定是由某一个数不操作得到的，再观察数据发现可以枚举这个数</p>
<p>完了</p>
<h4 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> l,r;</span><br><span class="line">&#125;op[<span class="number">310</span>];</span><br><span class="line"><span class="type">int</span> n,m,ans,a[<span class="number">310</span>],b[<span class="number">310</span>];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; op1,op2;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    op2.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="type">int</span> minn=INF;</span><br><span class="line">    <span class="built_in">memcpy</span>(b,a,<span class="keyword">sizeof</span> a);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(op[i].l&lt;=x&amp;&amp;op[i].r&gt;=x) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=op[i].l;j&lt;=op[i].r;++j) --b[j];</span><br><span class="line">        op2.<span class="built_in">push_back</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) minn=<span class="built_in">min</span>(minn,b[i]);</span><br><span class="line">    <span class="keyword">if</span>(b[x]-minn&gt;ans)&#123;</span><br><span class="line">        ans=b[x]-minn;</span><br><span class="line">        op1=op2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;++i) cin&gt;&gt;op[i].l&gt;&gt;op[i].r;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="built_in">check</span>(i);</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl&lt;&lt;op1.<span class="built_in">size</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;op1.<span class="built_in">size</span>();++i) cout&lt;&lt;op1[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-1"><a href="#反思：-1" class="headerlink" title="反思："></a>反思：</h3><p>注意观察答案的共同特点，还有灵活思维，不要固守原来错误的猜想、</p>
<h2 id="P2952"><a href="#P2952" class="headerlink" title="P2952"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2952">P2952</a></h2><h3 id="解：-2"><a href="#解：-2" class="headerlink" title="解："></a>解：</h3><h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><p>双端队列模板题</p>
<h4 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> s,cnt;</span><br><span class="line">deque&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;s;</span><br><span class="line">    <span class="keyword">while</span>(s--)&#123;</span><br><span class="line">        <span class="type">char</span> x,y;cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="string">&#x27;D&#x27;</span>)&#123;</span><br><span class="line">            <span class="type">int</span> z;cin&gt;&gt;z;</span><br><span class="line">            <span class="keyword">if</span>(y==<span class="string">&#x27;L&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">while</span>(z--) q.<span class="built_in">pop_front</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">while</span>(z--) q.<span class="built_in">pop_back</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(y==<span class="string">&#x27;L&#x27;</span>)&#123;</span><br><span class="line">                q.<span class="built_in">push_front</span>(++cnt);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                q.<span class="built_in">push_back</span>(++cnt);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        cout&lt;&lt;q.<span class="built_in">front</span>()&lt;&lt;endl;</span><br><span class="line">        q.<span class="built_in">pop_front</span>();</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-2"><a href="#反思：-2" class="headerlink" title="反思："></a>反思：</h3><p>无</p>
<h2 id="P1091"><a href="#P1091" class="headerlink" title="P1091"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1091">P1091</a></h2><h3 id="解：-3"><a href="#解：-3" class="headerlink" title="解："></a>解：</h3><h4 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h4><p>一开始以为是贪心，WA了才发现是最长上升子序列+最长下降子序列</p>
<h4 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,ans,a[<span class="number">110</span>],up[<span class="number">110</span>],down[<span class="number">110</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) up[i]=down[i]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;i;++j)</span><br><span class="line">            <span class="keyword">if</span>(a[i]&gt;a[j]) up[i]=<span class="built_in">max</span>(up[i],up[j]+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=n<span class="number">-1</span>;i;--i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=n;j&gt;i;--j)</span><br><span class="line">            <span class="keyword">if</span>(a[i]&gt;a[j]) down[i]=<span class="built_in">max</span>(down[i],down[j]+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) ans=<span class="built_in">max</span>(ans,up[i]+down[i]<span class="number">-1</span>);</span><br><span class="line">    cout&lt;&lt;n-ans&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-3"><a href="#反思：-3" class="headerlink" title="反思："></a>反思：</h3><p>注意与写过的模板联想</p>
<h2 id="P8661"><a href="#P8661" class="headerlink" title="P8661"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P8661">P8661</a></h2><h3 id="解：-4"><a href="#解：-4" class="headerlink" title="解："></a>解：</h3><h4 id="思路-4"><a href="#思路-4" class="headerlink" title="思路"></a>思路</h4><p>结构体存数据，依题意以时间排序，一个队列保存一个帖子的信息即可</p>
<h4 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    <span class="type">int</span> time;</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">&#125;info[SIZE];</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(Node x,Node y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x.time&lt;y.time;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> n,d,k;</span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q[SIZE];</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; ans;</span><br><span class="line"><span class="type">bool</span> vis[SIZE];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;d&gt;&gt;k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;info[i].time&gt;&gt;info[i].id;</span><br><span class="line">    <span class="built_in">sort</span>(info+<span class="number">1</span>,info+<span class="number">1</span>+n,cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="type">int</span> x=info[i].id;</span><br><span class="line">        q[x].<span class="built_in">push</span>(info[i].time);</span><br><span class="line">        <span class="keyword">while</span>(q[x].<span class="built_in">back</span>()-q[x].<span class="built_in">front</span>()+<span class="number">1</span>&gt;d) q[x].<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(!vis[x]&amp;&amp;q[x].<span class="built_in">size</span>()&gt;=k)&#123;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(x);</span><br><span class="line">            vis[x]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(ans.<span class="built_in">begin</span>(),ans.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;ans.<span class="built_in">size</span>();++i) cout&lt;&lt;ans[i]&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-4"><a href="#反思：-4" class="headerlink" title="反思："></a>反思：</h3><p>无</p>
<h2 id="P3957"><a href="#P3957" class="headerlink" title="P3957"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3957">P3957</a></h2><h3 id="解：-5"><a href="#解：-5" class="headerlink" title="解："></a>解：</h3><h4 id="思路-5"><a href="#思路-5" class="headerlink" title="思路"></a>思路</h4><p>外层明显二分，考虑check函数</p>
<p>想到dp，但是转移消耗很大，考虑优化</p>
<p>dp是需要一个max，考虑用线段树维护</p>
<h4 id="code-5"><a href="#code-5" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">5e5</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,d,k,sum,x[SIZE],s[SIZE];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ST</span>&#123;</span><br><span class="line">    <span class="type">int</span> t[<span class="number">4</span>*SIZE];</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> p=<span class="number">1</span>,<span class="type">int</span> l=<span class="number">0</span>,<span class="type">int</span> r=n)</span></span>&#123;</span><br><span class="line">        t[p]=-INF;</span><br><span class="line">        <span class="keyword">if</span>(l==r) <span class="keyword">return</span> ;</span><br><span class="line">        <span class="type">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">build</span>(p&lt;&lt;<span class="number">1</span>,l,mid),</span><br><span class="line">        <span class="built_in">build</span>(p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> pos,<span class="type">int</span> val,<span class="type">int</span> p=<span class="number">1</span>,<span class="type">int</span> l=<span class="number">0</span>,<span class="type">int</span> r=n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(l==r)&#123;</span><br><span class="line">            <span class="keyword">if</span>(l==pos) t[p]=val;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(pos&lt;=mid) <span class="built_in">change</span>(pos,val,p&lt;&lt;<span class="number">1</span>,l,mid);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">change</span>(pos,val,p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r);</span><br><span class="line">        t[p]=<span class="built_in">max</span>(t[p&lt;&lt;<span class="number">1</span>],t[p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">qmax</span><span class="params">(<span class="type">int</span> cl,<span class="type">int</span> cr,<span class="type">int</span> p=<span class="number">1</span>,<span class="type">int</span> l=<span class="number">0</span>,<span class="type">int</span> r=n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(cl&lt;=l&amp;&amp;cr&gt;=r) <span class="keyword">return</span> t[p];</span><br><span class="line">        <span class="type">int</span> mid=l+r&gt;&gt;<span class="number">1</span>,tmpans=-INF;</span><br><span class="line">        <span class="keyword">if</span>(cl&lt;=mid) tmpans=<span class="built_in">qmax</span>(cl,cr,p&lt;&lt;<span class="number">1</span>,l,mid);</span><br><span class="line">        <span class="keyword">if</span>(cr&gt;mid) tmpans=<span class="built_in">max</span>(tmpans,<span class="built_in">qmax</span>(cl,cr,p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,mid+<span class="number">1</span>,r));</span><br><span class="line">        <span class="keyword">return</span> tmpans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;t;<span class="comment">//线段树维护dp数组区间最大值</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> g)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> mind=<span class="built_in">max</span>(<span class="number">1ll</span>,d-g),maxd=d+g;</span><br><span class="line">    t.<span class="built_in">build</span>();t.<span class="built_in">change</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="type">int</span> l=<span class="built_in">lower_bound</span>(x,x+n+<span class="number">1</span>,x[i]-maxd)-x,<span class="comment">//lower_bound是查第一个大于等于val的位置，左闭右开</span></span><br><span class="line">            r=<span class="built_in">upper_bound</span>(x,x+n+<span class="number">1</span>,x[i]-mind)-x<span class="number">-1</span>;<span class="comment">//upper_bound是查第一个大于val的位置，左闭右开</span></span><br><span class="line">        <span class="keyword">if</span>(l&gt;r) <span class="keyword">continue</span>;</span><br><span class="line">        t.<span class="built_in">change</span>(i,s[i]+t.<span class="built_in">qmax</span>(l,r));</span><br><span class="line">        <span class="keyword">if</span>(t.<span class="built_in">qmax</span>(i,i)&gt;=k) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;d&gt;&gt;k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        cin&gt;&gt;x[i]&gt;&gt;s[i];</span><br><span class="line">        sum+=s[i]&gt;<span class="number">0</span>?s[i]:<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum&lt;k)&#123;</span><br><span class="line">        <span class="built_in">puts</span>(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> l=<span class="number">0</span>,r=x[n];<span class="comment">//r边界为xn而不是d,因为可能需要d+g足够大避开负贡献</span></span><br><span class="line">    <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">        <span class="comment">// cout&lt;&lt;l&lt;&lt;&quot; &quot;&lt;&lt;r&lt;&lt;endl;</span></span><br><span class="line">        <span class="comment">// system(&quot;pause&quot;);</span></span><br><span class="line">        <span class="type">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) r=mid<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-5"><a href="#反思：-5" class="headerlink" title="反思："></a>反思：</h3><p>熟悉常用数据结构的写法和用法，注意二分边界</p>
<h2 id="P8654"><a href="#P8654" class="headerlink" title="P8654"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P8654">P8654</a></h2><h3 id="解：-6"><a href="#解：-6" class="headerlink" title="解："></a>解：</h3><h4 id="思路-6"><a href="#思路-6" class="headerlink" title="思路"></a>思路</h4><p>并查集模板题</p>
<h4 id="code-6"><a href="#code-6" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> m,n,k,fa[SIZE];</span><br><span class="line">map&lt;<span class="type">int</span>,<span class="type">bool</span>&gt; mp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getFa</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fa[x]==x?x:fa[x]=<span class="built_in">getFa</span>(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m&gt;&gt;k;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n*m;++i) fa[i]=i;</span><br><span class="line">    <span class="keyword">while</span>(k--)&#123;</span><br><span class="line">        <span class="type">int</span> a,b;cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        fa[<span class="built_in">getFa</span>(a)]=<span class="built_in">getFa</span>(b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n*m;++i) mp[<span class="built_in">getFa</span>(i)]=<span class="number">1</span>;</span><br><span class="line">    cout&lt;&lt;mp.<span class="built_in">size</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-6"><a href="#反思：-6" class="headerlink" title="反思："></a>反思：</h3><p>无</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2023/11/19/%E9%A2%84%E5%A4%87%E9%98%9Fweek6/" data-id="cltmzly4v001fe8sz59794lmd" data-title="预备队训练week6" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A2%84%E5%A4%87%E9%98%9F/" rel="tag">预备队</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-面向对象高级（二）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/12/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%EF%BC%88%E4%BA%8C%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2023-11-11T16:00:00.000Z" itemprop="datePublished">2023-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/12/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%EF%BC%88%E4%BA%8C%EF%BC%89/">面向对象高级（二）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="01-多态、使用多态的好处"><a href="#01-多态、使用多态的好处" class="headerlink" title="01 多态、使用多态的好处"></a>01 多态、使用多态的好处</h1><ul>
<li>多态是在继承&#x2F;实现情况下的一种现象，表现为：对象多态、行为多态</li>
<li>具体代码体现</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">People p1=<span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">p1.run();</span><br><span class="line"></span><br><span class="line">Poeple p2=<span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">p2.run();</span><br></pre></td></tr></table></figure>

<ul>
<li><p>多态的前提：有继承&#x2F;实现关系；存在父类引用子类对象；存在方法重写</p>
</li>
<li><p>注意事项：多态是对象、行为的多态，java中的成员变量不谈多态</p>
</li>
<li><p>使用多态的好处</p>
<ul>
<li>在多态形式下，右边对象是解耦合的，便于扩展和维护</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">People p=<span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">p1.run();</span><br></pre></td></tr></table></figure>

<ul>
<li>定义方法时，使用父类类型的形参，可以接收一球子类对象，扩展性更强、更便利</li>
</ul>
</li>
<li><p>类型转换</p>
<ul>
<li><p>自动类型转换：父类 变量名&#x3D;new子类（）；</p>
</li>
<li><p>强制类型转换：子类 变量名&#x3D;new（子类）父类变量；</p>
</li>
<li><p>注意事项</p>
<ul>
<li>存在继承&#x2F;实现关系就可以在编译阶段进行强制类型转换，编译阶段不会报错</li>
<li>运行时，如果发现对象的真实类型与强转后的类型不同，就会报类型转换异常（ClassCastException）的错误出来</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">People p=<span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">Student s=(Student) p;<span class="comment">//java.lang.ClassCastException</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>强转时，java建议：使用instanceof，判断当前对象的真实类型</p>
</li>
</ul>
</li>
</ul>
<h1 id="02-final、常量"><a href="#02-final、常量" class="headerlink" title="02 final、常量"></a>02 final、常量</h1><ul>
<li><p>final</p>
<ul>
<li>final是最终的意思，可以修饰类，方法，变量</li>
<li>修饰类：该类称为最终类，不可以被继承</li>
<li>修饰方法：该方法为最终方法，不可以被重写</li>
<li>修饰变量：该变量只能被赋值一次</li>
</ul>
</li>
<li><p>final修饰变量注意事项</p>
<ul>
<li>final修饰基本类型的变量，变量存储的数据不能被改变</li>
<li>final修饰引用类型的变量，变量存储的地址不能被改变</li>
</ul>
</li>
<li><p>常量</p>
<ul>
<li>使用了static final修饰的成员变量称为常量</li>
<li>作用：通常用于记录系统的配置信息</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Constant</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String SCHOOL_NAME</span><br><span class="line">	<span class="comment">//注意，常量使用大写，用下划线连接单词</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用常量记录系统配置信息的优势、执行原理</p>
<ul>
<li>代码可读性更好，可维护性也更好</li>
<li>程序编译后，常量会被“宏替换”：出现常量的地方全部会被替换成其记住的字面量，这样可以保证使用常量和直接使用字面量的性能是一样的</li>
</ul>
</li>
</ul>
<h1 id="03-抽象类-认识抽象类和其好处"><a href="#03-抽象类-认识抽象类和其好处" class="headerlink" title="03 抽象类-认识抽象类和其好处"></a>03 抽象类-认识抽象类和其好处</h1><ul>
<li>抽象类和抽象方法都是用abstrac修饰的；抽象方法只有方法签名，不能写方法体</li>
<li>抽象类的注意事项和特点<ul>
<li>抽象类中可以不写抽象方法，但又抽象方法的类一定是抽象类</li>
<li>类有的成员（成员变量、方法、构造器），抽象类都具备</li>
<li>抽象类不能创建对象，仅作为一种特殊的父类，让子类继承并实现</li>
<li>一个类继承抽象类，必须重写完抽象类的所有方法，否则这个类也必须定义为一个抽象类</li>
</ul>
</li>
<li>抽象类的应用场景和好处<ul>
<li>父类知道每一个子类都要做某个行为，但每个子类要做的情况不一样，父类就定义成抽象方法，交给子类去重写实现</li>
<li>我们抽出这样的抽象类，是为了更好的支持多态</li>
</ul>
</li>
</ul>
<h1 id="04-抽象类的应用-模板方法设计模式"><a href="#04-抽象类的应用-模板方法设计模式" class="headerlink" title="04 抽象类的应用-模板方法设计模式"></a>04 抽象类的应用-模板方法设计模式</h1><ul>
<li>模板方法设计模式解决了方法中存在重复代码的问题</li>
<li>模板方法设计模式应该怎么写<ul>
<li>定义一个抽象类</li>
<li>在抽象类李定义两个方法<ul>
<li>一个是模板方法：放相同的代码</li>
<li>一个是抽象方法：具体实现交给子类完成</li>
</ul>
</li>
</ul>
</li>
<li>模板方法建议使用final关键字修饰</li>
</ul>
<h1 id="05-接口：认识接口，使用接口的好处"><a href="#05-接口：认识接口，使用接口的好处" class="headerlink" title="05 接口：认识接口，使用接口的好处"></a>05 接口：认识接口，使用接口的好处</h1><ul>
<li>java提供了一个关键字interface，用这个关键字我们可以定义出一个特殊的结构：接口</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> interface 接口名&#123;</span><br><span class="line">    <span class="comment">//成员变量（常量）</span></span><br><span class="line">    <span class="comment">//成员方法（抽象方法）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>注意：接口不能创建对象；接口是用来被类实现(implements)的，实现接口的类称为实现类</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">修饰符 <span class="keyword">class</span> 实现类 implements 接口<span class="number">1</span>,接口<span class="number">2</span>,接口<span class="number">3</span>,...&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>一个类可以实现多个接口（接口可以理解为干爹），实现类实现多个接口，必须重写完所有接口的全部抽象方法，否则实现类需要定义成抽象类</p>
</li>
<li><p>接口的好处（重点）</p>
<ul>
<li>弥补了类单继承的不足，一个类同时可以实现多个接口</li>
<li>让程序可以面向接口编程，这样程序员就可以灵活方便地求换各种业务实现</li>
<li>使用接口去找干爹，别人通过你implements的接口，就可以显性的知道你是谁，从而也就可以放心的把你当作谁来用了</li>
<li>一个类我们可以实现多个接口，同样，一个接口也可以被多个类实现。这样做的好处是我们的程序就可以面向接口编程了，这样可以很方便地灵活切换各种业务实现了</li>
</ul>
</li>
</ul>
<h1 id="06-接口：综合案例"><a href="#06-接口：综合案例" class="headerlink" title="06 接口：综合案例"></a>06 接口：综合案例</h1><h1 id="07-接口：JDK8开始接口新增的方法、接口的多继承、注意事项"><a href="#07-接口：JDK8开始接口新增的方法、接口的多继承、注意事项" class="headerlink" title="07 接口：JDK8开始接口新增的方法、接口的多继承、注意事项"></a>07 接口：JDK8开始接口新增的方法、接口的多继承、注意事项</h1><ul>
<li>JDK8开始，接口新增了哪些方法<ul>
<li>默认方法：default修饰，使用实现类的对象调用</li>
<li>静态方法：static修饰，必须用当前接口名调用</li>
<li>私有方法：private修饰，jdk9开始，只能在接口内被调用</li>
<li>默认他们都会被public修饰</li>
</ul>
</li>
<li>JDK8开始，新增的方法增强了接口的能力，更便于项目的扩展和维护</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2023/11/12/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%EF%BC%88%E4%BA%8C%EF%BC%89/" data-id="cltmzly4s000xe8szdv533ecg" data-title="面向对象高级（二）" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-预备队week5" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/12/%E9%A2%84%E5%A4%87%E9%98%9Fweek5/" class="article-date">
  <time class="dt-published" datetime="2023-11-11T16:00:00.000Z" itemprop="datePublished">2023-11-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/12/%E9%A2%84%E5%A4%87%E9%98%9Fweek5/">预备队训练week5</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="本周简述"><a href="#本周简述" class="headerlink" title="本周简述"></a>本周简述</h2><p>本周主要看了<a target="_blank" rel="noopener" href="https://www.cnblogs.com/jbelial/articles/2116074.html">背包总结</a>，做了一些预备队的选做题</p>
<h2 id="P2118"><a href="#P2118" class="headerlink" title="P2118"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2118">P2118</a></h2><h3 id="解："><a href="#解：" class="headerlink" title="解："></a>解：</h3><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p>枚举ab，依题判断</p>
<h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!b) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">gcd</span>(b,a%b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a,b,l;</span><br><span class="line"><span class="type">int</span> ansa,ansb;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">gcd</span>(x,y)!=<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(x*<span class="number">1.0</span>/y&lt;a*<span class="number">1.0</span>/b) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(x*<span class="number">1.0</span>/y-a*<span class="number">1.0</span>/b&lt;ansa*<span class="number">1.0</span>/ansb-a*<span class="number">1.0</span>/b) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;a&gt;&gt;b&gt;&gt;l;</span><br><span class="line">    ansa=a,ansb=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=l;++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=l;++j)</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">check</span>(i,j)) ansa=i,ansb=j;</span><br><span class="line">    cout&lt;&lt;ansa&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;ansb;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思："><a href="#反思：" class="headerlink" title="反思："></a>反思：</h3><p>无</p>
<h2 id="P1873"><a href="#P1873" class="headerlink" title="P1873"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1873">P1873</a></h2><h3 id="解：-1"><a href="#解：-1" class="headerlink" title="解："></a>解：</h3><h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><p>二分答案即可</p>
<h4 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m,a[SIZE];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        <span class="keyword">if</span>(a[i]&gt;x) sum+=a[i]-x;</span><br><span class="line">    <span class="keyword">return</span> sum&gt;=m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="type">int</span> l=<span class="number">1</span>,r=<span class="number">1000000000</span>;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;r)&#123;</span><br><span class="line">        <span class="type">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> r=mid;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-1"><a href="#反思：-1" class="headerlink" title="反思："></a>反思：</h3><p>无</p>
<h2 id="P3382"><a href="#P3382" class="headerlink" title="P3382"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3382">P3382</a></h2><h3 id="解：-2"><a href="#解：-2" class="headerlink" title="解："></a>解：</h3><h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><p>三分模板题</p>
<h4 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps=<span class="number">1e-7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">double</span> l,r,a[<span class="number">15</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">calc</span><span class="params">(<span class="type">double</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">double</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">        ans+=a[i]*<span class="built_in">pow</span>(x,n-i+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">double</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">calc</span>(x)-<span class="built_in">calc</span>(x+eps)&lt;<span class="number">0.0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;l&gt;&gt;r;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">while</span>(r-l&gt;eps)&#123;</span><br><span class="line">        <span class="type">double</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid;</span><br><span class="line">        <span class="keyword">else</span> r=mid;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;l;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-2"><a href="#反思：-2" class="headerlink" title="反思："></a>反思：</h3><p>检查时除了思路还要注意参数类型，计算细节</p>
<h2 id="P4994"><a href="#P4994" class="headerlink" title="P4994"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4994">P4994</a></h2><h3 id="解：-3"><a href="#解：-3" class="headerlink" title="解："></a>解：</h3><h4 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h4><p>大暴力找规律，但是试了一下直接就跑过了</p>
<h4 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">work</span><span class="params">(<span class="type">int</span> m)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">1</span>,b=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">3</span>;i&lt;=m*m;++i)&#123;</span><br><span class="line">        <span class="type">int</span> c=(a+b)%m;</span><br><span class="line">        <span class="built_in">swap</span>(b,c),<span class="built_in">swap</span>(a,b);</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="number">0</span>&amp;&amp;b==<span class="number">1</span>)&#123;</span><br><span class="line">            cout&lt;&lt;i;</span><br><span class="line">            <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="comment">// for(int i=2;i&lt;=706150;++i) work(i);</span></span><br><span class="line">    <span class="type">int</span> m;cin&gt;&gt;m;</span><br><span class="line">    <span class="built_in">work</span>(m);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-3"><a href="#反思：-3" class="headerlink" title="反思："></a>反思：</h3><p>试试暴力，能提供一点思路，甚至直接a了</p>
<h2 id="P2615"><a href="#P2615" class="headerlink" title="P2615"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2615">P2615</a></h2><h3 id="解：-4"><a href="#解：-4" class="headerlink" title="解："></a>解：</h3><h4 id="思路-4"><a href="#思路-4" class="headerlink" title="思路"></a>思路</h4><p>简单模拟</p>
<h4 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,lx,ly;</span><br><span class="line"><span class="type">int</span> ans[<span class="number">50</span>][<span class="number">50</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">work</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lx==<span class="number">1</span>&amp;&amp;ly!=n)</span><br><span class="line">        ans[n][ly+<span class="number">1</span>]=x,lx=n,++ly;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(ly==n&amp;&amp;lx!=<span class="number">1</span>) </span><br><span class="line">        ans[lx<span class="number">-1</span>][<span class="number">1</span>]=x,--lx,ly=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(lx==<span class="number">1</span>&amp;&amp;ly==n)</span><br><span class="line">        ans[lx+<span class="number">1</span>][ly]=x,++lx;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(!ans[lx<span class="number">-1</span>][ly+<span class="number">1</span>])</span><br><span class="line">        ans[lx<span class="number">-1</span>][ly+<span class="number">1</span>]=x,--lx,++ly;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ans[lx+<span class="number">1</span>][ly]=x,++lx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">    ans[<span class="number">1</span>][n+<span class="number">1</span>&gt;&gt;<span class="number">1</span>]=<span class="number">1</span>,lx=<span class="number">1</span>,ly=n+<span class="number">1</span>&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="comment">// cout&lt;&lt;lx&lt;&lt;&quot; &quot;&lt;&lt;ly&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n*n;++i)</span><br><span class="line">        <span class="built_in">work</span>(i);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;++j)</span><br><span class="line">            cout&lt;&lt;ans[i][j]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-4"><a href="#反思：-4" class="headerlink" title="反思："></a>反思：</h3><p>无</p>
<h2 id="P1011"><a href="#P1011" class="headerlink" title="P1011"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1011">P1011</a></h2><h3 id="解：-5"><a href="#解：-5" class="headerlink" title="解："></a>解：</h3><h4 id="思路-5"><a href="#思路-5" class="headerlink" title="思路"></a>思路</h4><p>发现数据范围很小，考虑枚举未知数模拟</p>
<p>最后统计数据时用朴素思路就行了，不要化简了</p>
<h4 id="code-5"><a href="#code-5" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a,n,m,ansx;</span><br><span class="line"><span class="type">int</span> in[SIZE],out[SIZE];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    in[<span class="number">1</span>]=a,out[<span class="number">1</span>]=<span class="number">0</span>,</span><br><span class="line">    in[<span class="number">2</span>]=x,out[<span class="number">2</span>]=x;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">3</span>;i&lt;=n;++i)</span><br><span class="line">        in[i]=in[i<span class="number">-1</span>]+in[i<span class="number">-2</span>],</span><br><span class="line">        out[i]=in[i<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;++i)</span><br><span class="line">        sum+=in[i]-out[i];</span><br><span class="line">    <span class="keyword">return</span> sum==m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;a&gt;&gt;n&gt;&gt;m&gt;&gt;ansx;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">2000000</span>;++i)</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">check</span>(i))&#123;</span><br><span class="line">            <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=ansx;++j) ans+=in[j]-out[j];</span><br><span class="line">            cout&lt;&lt;ans;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-5"><a href="#反思：-5" class="headerlink" title="反思："></a>反思：</h3><p>不耽误总体复杂度的情况下就不要贪小常数了，细节用朴素算法就行</p>
<h2 id="LCS"><a href="#LCS" class="headerlink" title="LCS"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/AT_dp_f">LCS</a></h2><h3 id="解：-6"><a href="#解：-6" class="headerlink" title="解："></a>解：</h3><h4 id="思路-6"><a href="#思路-6" class="headerlink" title="思路"></a>思路</h4><p>经典dp</p>
<p>状态：设dp[i] [j] 表示A串的前i个字符和B串的前j个字符的LCS长度</p>
<p>转移：</p>
<ul>
<li>A[i]&#x3D;&#x3D;B[j]：dp[i] [j] &#x3D; dp[i-1] [j-1]+1;</li>
<li>else：dp[i] [j] &#x3D;max(dp[i-1] [j], dp[i] [j-1]);</li>
</ul>
<p>边界：不需要</p>
<p>答案：dp[n] [m];</p>
<p>注意此题还需要输出LCS字符串，观察到每一次转移只来自一个方向</p>
<p>用双指针分别从AB末尾逆推即可</p>
<h4 id="code-6"><a href="#code-6" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> a[<span class="number">3010</span>],b[<span class="number">3010</span>],ans[<span class="number">6020</span>];</span><br><span class="line"><span class="type">int</span> len[<span class="number">3</span>],dp[<span class="number">3010</span>][<span class="number">3010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;a+<span class="number">1</span>&gt;&gt;b+<span class="number">1</span>;</span><br><span class="line">    len[<span class="number">1</span>]=len[<span class="number">2</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(a[len[<span class="number">1</span>]]!=<span class="string">&#x27;\0&#x27;</span>) ++len[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">while</span>(b[len[<span class="number">2</span>]]!=<span class="string">&#x27;\0&#x27;</span>) ++len[<span class="number">2</span>];</span><br><span class="line">    --len[<span class="number">1</span>],--len[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=len[<span class="number">1</span>];++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=len[<span class="number">2</span>];++j)</span><br><span class="line">            <span class="keyword">if</span>(a[i]==b[j]) dp[i][j]=dp[i<span class="number">-1</span>][j<span class="number">-1</span>]+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> dp[i][j]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[i][j<span class="number">-1</span>]);</span><br><span class="line">    cout&lt;&lt;dp[len[<span class="number">1</span>]][len[<span class="number">2</span>]]&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> p1=len[<span class="number">1</span>],p2=len[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">while</span>(p1&gt;<span class="number">0</span>&amp;&amp;p2&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[p1]==b[p2])&#123;</span><br><span class="line">            ans[dp[p1][p2]]=a[p1],</span><br><span class="line">            --p1,--p2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(dp[p1][p2]==dp[p1<span class="number">-1</span>][p2]) --p1;</span><br><span class="line">            <span class="keyword">else</span> --p2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans+<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-6"><a href="#反思：-6" class="headerlink" title="反思："></a>反思：</h3><p>转移的时候只要继承了前面所有可能贡献状态即可，注意合理分类</p>
<p>逆推思路可以记一下</p>
<h2 id="P2196"><a href="#P2196" class="headerlink" title="P2196"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2196">P2196</a></h2><h3 id="解：-7"><a href="#解：-7" class="headerlink" title="解："></a>解：</h3><h4 id="思路-7"><a href="#思路-7" class="headerlink" title="思路"></a>思路</h4><p>类似线性dp转移即可</p>
<p>注意如果更新了就记录以下从哪里推过来的记下来方便输出路径</p>
<p>从1开始挖，每次最大值被更新的时候换一个末尾值</p>
<h4 id="code-7"><a href="#code-7" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,ans,la,val[<span class="number">30</span>],dp[<span class="number">30</span>],pre[<span class="number">30</span>];</span><br><span class="line"><span class="type">bool</span> g[<span class="number">30</span>][<span class="number">30</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pre[x]) <span class="built_in">dfs</span>(pre[x]);</span><br><span class="line">    cout&lt;&lt;x&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;val[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;++i)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;=n;++j)</span><br><span class="line">            cin&gt;&gt;g[i][j];</span><br><span class="line">    dp[<span class="number">1</span>]=val[<span class="number">1</span>],la=<span class="number">1</span>,ans=dp[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;++i)&#123;</span><br><span class="line">        dp[i]=val[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;i;++j)</span><br><span class="line">            <span class="keyword">if</span>(g[j][i]&amp;&amp;dp[i]&lt;dp[j]+val[i])</span><br><span class="line">                dp[i]=dp[j]+val[i],pre[i]=j;</span><br><span class="line">        <span class="keyword">if</span>(ans&lt;dp[i]) ans=dp[i],la=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(la);</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;ans;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-7"><a href="#反思：-7" class="headerlink" title="反思："></a>反思：</h3><p>图的dp一般没有后效，可以借鉴线性dp;</p>
<h2 id="P1541"><a href="#P1541" class="headerlink" title="P1541"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1541">P1541</a></h2><h3 id="解：-8"><a href="#解：-8" class="headerlink" title="解："></a>解：</h3><h4 id="思路-8"><a href="#思路-8" class="headerlink" title="思路"></a>思路</h4><p>还得是lsh讲题清楚，现在还记得</p>
<p>状态：设dp[a] [b] [c] [d] 表示四种牌的使用情况</p>
<p>转移：</p>
<ul>
<li>dp[a] [b] [c] [d] &#x3D; dp[a-1] [b] [c] [d] + val[pos];</li>
<li>dp[a] [b] [c] [d] &#x3D; dp[a] [b-1] [c] [d] + val[pos];</li>
<li>dp[a] [b] [c] [d] &#x3D; dp[a] [b] [c-1] [d] + val[pos];</li>
<li>dp[a] [b] [c] [d] &#x3D; dp[a] [b] [c] [d-1] + val[pos];</li>
</ul>
<p>根据四种牌的使用情况可以算出pos</p>
<p>答案： 所有pos&#x3D;&#x3D;n时dp的最大值</p>
<p>注意起始位置是1</p>
<h4 id="code-8"><a href="#code-8" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m,ans,dp[<span class="number">41</span>][<span class="number">41</span>][<span class="number">41</span>][<span class="number">41</span>],val[<span class="number">400</span>],num[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>),cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;++i) cin&gt;&gt;val[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;++i)&#123;</span><br><span class="line">        <span class="type">int</span> x;cin&gt;&gt;x;</span><br><span class="line">        ++num[x];</span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]=val[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> a=<span class="number">0</span>;a&lt;=num[<span class="number">1</span>];++a)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> b=<span class="number">0</span>;b&lt;=num[<span class="number">2</span>];++b)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> c=<span class="number">0</span>;c&lt;=num[<span class="number">3</span>];++c)</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> d=<span class="number">0</span>;d&lt;=num[<span class="number">4</span>];++d)&#123;</span><br><span class="line">                    <span class="type">int</span> pos=a*<span class="number">1</span>+b*<span class="number">2</span>+c*<span class="number">3</span>+d*<span class="number">4</span>+<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">if</span>(pos==<span class="number">0</span>||pos&gt;n) <span class="keyword">continue</span>;</span><br><span class="line">                    <span class="keyword">if</span>(a&gt;<span class="number">0</span>) dp[a][b][c][d]=<span class="built_in">max</span>(dp[a][b][c][d],dp[a<span class="number">-1</span>][b][c][d]+val[pos]);</span><br><span class="line">                    <span class="keyword">if</span>(b&gt;<span class="number">0</span>) dp[a][b][c][d]=<span class="built_in">max</span>(dp[a][b][c][d],dp[a][b<span class="number">-1</span>][c][d]+val[pos]);</span><br><span class="line">                    <span class="keyword">if</span>(c&gt;<span class="number">0</span>) dp[a][b][c][d]=<span class="built_in">max</span>(dp[a][b][c][d],dp[a][b][c<span class="number">-1</span>][d]+val[pos]);</span><br><span class="line">                    <span class="keyword">if</span>(d&gt;<span class="number">0</span>) dp[a][b][c][d]=<span class="built_in">max</span>(dp[a][b][c][d],dp[a][b][c][d<span class="number">-1</span>]+val[pos]);</span><br><span class="line">                    <span class="keyword">if</span>(pos==n) ans=<span class="built_in">max</span>(ans,dp[a][b][c][d]);</span><br><span class="line">                    <span class="comment">// cout&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;&quot; &quot;&lt;&lt;c&lt;&lt;&quot; &quot;&lt;&lt;d&lt;&lt;&quot;: &quot;&lt;&lt;dp[a][b][c][d]&lt;&lt;endl;</span></span><br><span class="line">                &#125;</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-8"><a href="#反思：-8" class="headerlink" title="反思："></a>反思：</h3><p>怎么好转移怎么设，注意观察数据范围</p>
<p>起始位置是1所以牌算出来的步数需要+1</p>
<h2 id="P2679"><a href="#P2679" class="headerlink" title="P2679"></a><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2679">P2679</a></h2><h3 id="解：-9"><a href="#解：-9" class="headerlink" title="解："></a>解：</h3><h4 id="思路-9"><a href="#思路-9" class="headerlink" title="思路"></a>思路</h4><p>题目复杂，先不考虑空间复杂度，出思路再优化</p>
<p>状态：设dp[i] [j] [p] [0&#x2F;1] 表示A串前i个字符匹配到B串前j个字符，分为了p个字串，且当前第i个字符用&#x2F;不用的方案数</p>
<p>转移：</p>
<ul>
<li><p>A[i]&#x3D;&#x3D;B[j]</p>
<ul>
<li>dp[i] [j] [p] [0] &#x3D; dp[i-1] [j] [p] [0] + dp[i-1] [j] [p] [1];</li>
<li>dp[i] [j] [p] [1] &#x3D; dp[i-1] [j-1] [p] [1] + dp[i-1] [j-1] [p-1] [0] + dp[i-1] [j-1] [p-1] [1];</li>
</ul>
</li>
<li><p>A[i]&#x3D;&#x3D;B[j]  </p>
<ul>
<li>dp[i] [j] [p] [0] &#x3D; dp[i-1] [j] [p] [0] + dp[i-1] [j] [p] [1];</li>
</ul>
</li>
<li><p>dp[i] [j] [p] [1] &#x3D; 0;</p>
</li>
</ul>
<p>边界： dp[i] [0] [0] [0] &#x3D;1; </p>
<p>答案： dp[n] [m] [k] [0&#x2F;1];</p>
<p>发现空间炸了，但是第一维实际上只有两个需要保存，用01滚掉即可</p>
<h4 id="code-9"><a href="#code-9" class="headerlink" title="code"></a>code</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> SIZE=<span class="number">1e6</span>+<span class="number">10</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> INF=<span class="number">1LL</span>&lt;&lt;<span class="number">63</span><span class="number">-1</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MOD=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n,m,k,dp[<span class="number">2</span>][<span class="number">210</span>][<span class="number">210</span>][<span class="number">2</span>];</span><br><span class="line"><span class="type">char</span> a[<span class="number">1010</span>],b[<span class="number">210</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// ios::sync_with_stdio(false);</span></span><br><span class="line">    <span class="comment">// cin.tie(0),cout.tie(0);</span></span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m&gt;&gt;k&gt;&gt;a+<span class="number">1</span>&gt;&gt;b+<span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>,dp[<span class="number">1</span>][<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,now=<span class="number">1</span>;i&lt;=n;++i,now^=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;++j)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> p=<span class="number">1</span>;p&lt;=k;++p)</span><br><span class="line">                <span class="keyword">if</span>(a[i]==b[j])</span><br><span class="line">                    dp[now][j][p][<span class="number">0</span>]=(dp[now^<span class="number">1</span>][j][p][<span class="number">0</span>]+dp[now^<span class="number">1</span>][j][p][<span class="number">1</span>])%MOD,</span><br><span class="line">                    dp[now][j][p][<span class="number">1</span>]=(dp[now^<span class="number">1</span>][j<span class="number">-1</span>][p][<span class="number">1</span>]+(dp[now^<span class="number">1</span>][j<span class="number">-1</span>][p<span class="number">-1</span>][<span class="number">0</span>]+dp[now^<span class="number">1</span>][j<span class="number">-1</span>][p<span class="number">-1</span>][<span class="number">1</span>])%MOD)%MOD;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    dp[now][j][p][<span class="number">0</span>]=(dp[now^<span class="number">1</span>][j][p][<span class="number">0</span>]+dp[now^<span class="number">1</span>][j][p][<span class="number">1</span>])%MOD,</span><br><span class="line">                    dp[now][j][p][<span class="number">1</span>]=<span class="number">0</span>;</span><br><span class="line">    cout&lt;&lt;(dp[n&amp;<span class="number">1</span>][m][k][<span class="number">0</span>]+dp[n&amp;<span class="number">1</span>][m][k][<span class="number">1</span>])%MOD;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="反思：-9"><a href="#反思：-9" class="headerlink" title="反思："></a>反思：</h3><p>设状态要能够表达题意，转移分类后思路清晰不漏，优化空间观察冗余维度</p>
<p>这道题不能关流同步，不知道为啥</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://yohanemashiro.github.io/2023/11/12/%E9%A2%84%E5%A4%87%E9%98%9Fweek5/" data-id="cltmzly4v001de8szcvhdcauf" data-title="预备队训练week5" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%A2%84%E5%A4%87%E9%98%9F/" rel="tag">预备队</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/" rel="tag">Maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A2%84%E5%A4%87%E9%98%9F/" rel="tag">预备队</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/%E9%A2%84%E5%A4%87%E9%98%9F/" style="font-size: 15px;">预备队</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/03/11/%E5%B8%B8%E7%94%A8API%EF%BC%88%E4%BA%8C%EF%BC%89/">常用API（二）</a>
          </li>
        
          <li>
            <a href="/2024/03/11/%E5%B8%B8%E7%94%A8API%EF%BC%88%E4%B8%80%EF%BC%89/">常用API（一）</a>
          </li>
        
          <li>
            <a href="/2024/03/11/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%AB%98%E7%BA%A7%EF%BC%88%E4%B8%89%EF%BC%89/">面向对象高级（三）</a>
          </li>
        
          <li>
            <a href="/2023/12/17/%E9%A2%84%E5%A4%87%E9%98%9Fweek10/">预备队训练week10</a>
          </li>
        
          <li>
            <a href="/2023/12/11/%E9%A2%84%E5%A4%87%E9%98%9Fweek9/">预备队训练week9</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 Shirohao<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>